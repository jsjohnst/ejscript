<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- BeginDsi "dsi/head.html" -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Embedthis Ejscript 0.9.8 Documentation</title>
    <meta name="keywords" content="Ejscript, JavaScript, ECMAScript, Server-Side JavaScript, Dynamic languages, 
        Embedded, AJAX, language"/>
	<meta name="description" content="Ejscript -- Embedded Server-Side JavaScript Language."/>
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    <![endif]-->
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://www.ejscript.org/">&nbsp;</a>
        <div class="topRight">
             <div class="search">
                 <form method="get" action="http://www.google.com/search" title="Search www.embedthis.com">
                     <p>
                        <label title="Search">Search</label> 
                        <input type="text" id="q" name="q" size="15" maxlength="255" />
                        <input type="submit" id="submit" value="Go" /> 
                        <input type="hidden" name="domains" value="embedthis.com" /> 
                        <input type="hidden" name="sitesearch" value="embedthis.com" />
                    </p>
                 </form>
              </div>
            <!--TITLE-->Embedthis Ejscript 0.9.8
        </div>
        <div class="crumbs">
            <a href="../../../product/index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">User Guide</a>&gt; <b>Using the Module Generator</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            
<!-- BeginDsi "dsi/ejsLanguageSeeAlso.html" -->
		        <h2>See Also</h2>
		        <ul>
		          <li><a href="../../../guide/ejs/overview.html">Overview</a></li>
		          <li><a href="../../../guide/ejs/language/features.html">Language Features</a></li>
		          <li><a href="../../../guide/ejs/language/modes.html">Language Modes</a></li>
		          <li><a href="../../../guide/ejs/language/syntax.html">Language Syntax</a></li>
		          <li><a href="../../../guide/ejs/language/statements.html">Statements</a></li>
		          <li><a href="../../../guide/ejs/language/expressions.html">Expressions</a></li>
		          <li><a href="../../../guide/ejs/language/objects.html">Objects and Arrays</a></li>
		          <li><a href="../../../guide/ejs/language/functions.html">Functions and Methods</a></li>
		          <li><a href="../../../guide/ejs/language/core.html">Core Language Types</a></li>
		          <li><a href="../../../guide/ejs/language/types.html">Types and Declarations</a></li>
		          <li><a href="../../../guide/ejs/language/classes.html">Classes</a></li>
		          <li><a href="../../../guide/ejs/language/modules.html">Modules</a></li>
		          <li><a href="../../../guide/ejs/language/library.html">System Library</a></li>
		          <li><a href="../../../guide/ejs/language/events.html">Events and Timers</a></li>
		          <li><a href="../../../guide/ejs/language/globals.html">Globals</a></li>

		          <li><a href="../../../guide/ejs/users/compiler.html">Using the Compiler</a></li>
		          <li><a href="../../../guide/ejs/users/shell.html">Command Shell</a></li>
		          <li><a href="../../../guide/ejs/users/ejsvm.html">Virtual Machine</a></li>
		        </ul>
<!-- EndDsi -->
        </div>
        <div class="contentLeft">
            <h1>Using the Module Generator</h1>
            <p>The ejsmod command is a utility program for Ejscript module files to generate symbolic assembler
            listings, slot binding definition files and HTML documentation for Ejscript modules.</p>
            <h2>Generating Assembler Listings</h2>
            <p>The ejsmod program can create assembler listing files for input modules. To generate symbolic assembler
            listings, compile your source using the <b>ejsc</b> command with the --debug switch. Then invoke ejsmod
            with the --listing switch. An assembler listing file with a ".lst" extension will be generated for each
            corresponding module. For example:</p>
            <pre>
ejsc --debug myfile.es
ejsmod --listing default.mod
</pre>
            <p>If your script has module declarations, then run ejsmod with the list of modules you wish to
            disassemble. Note: this creates assembler listings on a per module basis and not per input source file.</p>
            <p>The listing will interleave disassembled byte code with the relevant source code statements. The listing
            also describes each module and its constituent functions and initializers. The bindings for all types and
            the constant pool are also listed.</p>
            <h2>Generating Documentation</h2>
            <p>To generate HTML documentation for your code, first compile using the ejsc command with the --doc
            switch. Then invoke "ejsmod --html dir modules..." where dir is the directory where you want the
            documentation located and modules is a list of the relevant modules. For example:</p>
            <pre>
ejsc --debug --doc myfile.es
ejsmod --html ./htmlDir *.mod
</pre>
            <p>The HTML documentation will include all modules, namespaces, types, functions, properties and variable
            declarations.</p>
            <h2>Generating Slot Definition Files</h2>Ejscript supports the creation of Native types which are coded in
            the C language. Native types are useful for core system types and for classes that must run at near binary
            speed. To facilitate creating native types, ejsmod generates slot binding files which define symbolic
            offsets for type properties and functions. See the Native class samples for further information.
            <h2>Command Options</h2>
            <p>The ejsmod command may be invoked with the following command options:</p>
            <pre>
<strong>ejsmod</strong> [--cslots] [--empty] [--html  path] [--listing] 
       [--searchPath ejsPath] [--showDebug] [--showNative] 
       [--version] modules ...
</pre>The meaning of each switch is listed below:
            <table summary="">
                <thead>
                    <tr>
                        <td>Switch</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tr>
                    <td>--cslots</td>
                    <td>Generate slot binding headers for the input modules.</td>
                </tr>
                <tr>
                    <td>--empty</td>
                    <td>Start with an empty interpreter without the core language types such as Object, Array, Number
                    etc. This option is used to build the foundation Ejscript module ejs.mod which contains the system
                    core types.</td>
                </tr>
                <tr>
                    <td>--html dir</td>
                    <td>Generate HTML documentation to the specified directory. The source files must have been
                    compiled by <b>ejsc</b> with the --doc switch to include the documentation strings in the module
                    files.</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--listing</td>
                    <td>Generate symbolic assembler files for each input module.</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--searchPath ejsPath</td>
                    <td>
                        <p>Override the module search path. The module search path is a set of directories that the ejs
                        command will use when locating and loading Ejscript modules. Given a module named "a.b.c" in a
                        script, ejs will use the following search strategy to locate the module:</p>
                        <p>1. Search for a module file named "a.b.c.mod"</p>
                        <p>2. Search for a module file named "a/b/c.mod"</p>
                        <p>3. Search for a module file named "a.b.c.mod" in EJSPATH</p>
                        <p>4. Search for a module file named c.mod in EJSPATH</p>
                        <p>The search path is initiallly specified via the environment variable EJSPATH and may be
                        overridden via the --searchPath ejsPath switch. EJSPATH and the ejsPath command line value are
                        similar to the system PATH formats. On windows, path segments are separated by ";" and on
                        Linux, Unix, FreeBSD and MAC, the path segments are separated by ":" delimiters.</p>
                    </td>
                </tr>
                <tr>
                    <td>--showDebug</td>
                    <td>Show debug instructions in the symbolic assembler listings.</td>
                </tr>
                <tr>
                    <td>--showNative</td>
                    <td>Show native properties in HTML documentation, assembler listings and slot binding files.</td>
                </tr>
                <tr>
                    <td>--version</td>
                    <td>Print the ejsmod command version and exit.</td>
                </tr>
            </table>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2009. 
            All rights reserved. Embedthis, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
<!-- EndDsi -->
</body>
</html>
