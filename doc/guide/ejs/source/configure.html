<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- BeginDsi "dsi/head.html" -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Embedthis Ejscript 0.9.8 Documentation</title>
    <meta name="keywords" content="Ejscript, JavaScript, ECMAScript, Server-Side JavaScript, Dynamic languages, 
        Embedded, AJAX, language"/>
	<meta name="description" content="Ejscript -- Embedded Server-Side JavaScript Language."/>
	<meta name="robots" content="index,follow" />
	<link href="../../../doc.css" rel="stylesheet" type="text/css" />
	<link href="../../../print.css" rel="stylesheet" type="text/css" media="print"/>
    <!--[if IE]>
    <link href="../../../iehacks.css" rel="stylesheet" type="text/css" />
    <![endif]-->
</head>

<body>
    <div class="top">
        <a class="logo"  href="http://www.ejscript.org/">&nbsp;</a>
        <div class="topRight">
             <div class="search">
                 <form method="get" action="http://www.google.com/search" title="Search www.embedthis.com">
                     <p>
                        <label title="Search">Search</label> 
                        <input type="text" id="q" name="q" size="15" maxlength="255" />
                        <input type="submit" id="submit" value="Go" /> 
                        <input type="hidden" name="domains" value="embedthis.com" /> 
                        <input type="hidden" name="sitesearch" value="embedthis.com" />
                    </p>
                 </form>
              </div>
            <!--TITLE-->Embedthis Ejscript 0.9.8
        </div>
        <div class="crumbs">
            <a href="../../../product/index.html">Home</a>
<!-- EndDsi -->
             &gt;<a href="index.html">Source Code</a>&gt; <b>Configure Program</b>
        </div>
    </div>
    <div class="content">
        <div class="contentRight">
            <h2>Quick Nav</h2>
            <ul>
                <li><a href="#running">Running Configure</a></li>
                <li><a href="#options">Configure Options</a></li>
                <li><a href="#variables">Configuration Variables</a></li>
            </ul>
            <h2>See Also</h2>
            <ul>
                <li><a href="building.html">Building From Source</a></li>
                <li><a href="steps.html">Build Steps</a></li>
                <li><a href="configure.html">Configure Program</a></li>
                <li><a href="make.html">Make Scheme</a></li>
                <li><a href="porting.html">Porting Guide</a></li>
                <li><a href="../../../product/changeLog.html">Change Log</a></li>
                <li><a href="../../../product/releaseNotes.html">Release Notes</a></li>
                <li><a href="../../../product/install/linux.html">Installing on Linux</a></li>
                <li><a href="../../../product/install/windows.html">Installing on Windows</a></li>
            </ul>
        </div>
        <div class="contentLeft">
            <h1>The Configure Program</h1>
            <p>The <b>configure</b> program is used to tailor the software's configuration to suit your needs. It is
            the master configuration tool and it will create the "buildConfig.*" configuration files.</p>
            <p>There are three such files:</p>
            <ul>
                <li>buildConfig.make</li>
                <li>buildConfig.sh</li>
                <li>buildConfig.h</li>
            </ul>
            <p>The relevant file is included by make files, shell scripts and by C source files to control the build
            process. They have however, basically the same contents &mdash; just in different formats. You should
            <b>NOT</b> edit these files as it is very easy to introduce inconsistencies between the files that can be
            very difficult to diagnose.</p>
            <p>You may run configure with no options to accept the factory defaults &mdash; this is a good starting
            point. The <b>configure</b> program will begin with the default settings supplied in the
            "build/standard.default" file. Then it will apply the various options specified on the command line. You
            can edit the "standard.default" file to modify the factory defaults to suit your requirements.</p><a name=
            "running" id="running"></a>
            <h2 class="section">Running Configure</h2>
            <p>To run the <b>configure</b> program, type:</p>
            <pre>
./configure
</pre>
            <p>or supply options, for example:</p>
            <pre>
./configure --type=RELEASE --enable-all --shared
</pre>
            <p>The <b>--enable-all</b> switch will enable all possible features that your system can support. The
            <b>--disable-all</b> switch will disable all possible features while still retaining a working
            configuration. To fully control your configuration, it is useful to use one of these two switches as your
            first <b>configure</b> option switch. Then either disable or enable options after that.</p><a name=
            "options" id="options"></a>
            <h2 class="section">Common Configure Options</h2>
            <p>The tables below describe the <b>configure</b> options and the variables defined in the "buildConfig.*"
            configuration files. The defaults below are the defaults in the supplied binary distribution.</p>
            <h3>Installation Directory Options</h3>
            <table summary="" width="100%">
                <thead>
                    <tr>
                        <td>Option</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tr>
                    <td nowrap="nowrap">--prefix</td>
                    <td>Set the installation directory path for the primary product distribution files.</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--binDir=PATH</td>
                    <td>Set the installation directory path for the product binaries.</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--docDir=PATH</td>
                    <td>Set the installation directory path for the product manual documentation.</td>
                </tr>
                <tr>
                    <td>--incDir=PATH</td>
                    <td>Set the installation directory path for the include header files.</td>
                </tr>
                <tr>
                    <td>--libDir=PATH</td>
                    <td>Set the installation directory path for the libraries.</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--manDir=PATH</td>
                    <td>The the installation directory path for the man pages.</td>
                </tr>
                <tr>
                    <td>--srcDir=PATH</td>
                    <td>Set the installation directory path for source code.</td>
                </tr>
            </table>
            <p>You can selectively modify installation directories by setting the appropriate <b>configure</b> location
            option. For example:</p>
            <pre>
./configure --prefix=/home/myDir
</pre>
            <h3>System Build Types</h3>
            <table summary="">
                <thead>
                    <tr>
                        <td width="30%">Option</td>
                        <td width="70%">Description</td>
                    </tr>
                </thead>
                <tr>
                    <td>--build=cpu-vendor-os</td>
                    <td>Configure for building on the system specified by "cpu-vendor-os". This value is guessed by
                    default.</td>
                </tr>
                <tr>
                    <td>--host=cpu-vendor-os</td>
                    <td>Cross-compile to run the product on the system specified by "cpu-vendor-os". This value is set
                    by default to the value selected for the build host (see above).</td>
                </tr>
            </table>
            <h3>Basic Configure Options</h3>
            <table summary="">
                <thead>
                    <tr>
                        <td width="24%">Option</td>
                        <td width="76%">Description</td>
                    </tr>
                </thead>
                <tr>
                    <td nowrap="nowrap">--buildNumber=NUMBER</td>
                    <td>Set the build number part of the version (the last digit of a version number, e.g.
                    1.0.0-X).</td>
                </tr>
                <tr>
                    <td>--defaults=FILE</td>
                    <td>Set the file name of the defaults master file. Just supply the bare filename without the
                    .defaults extension.</td>
                </tr>
                <tr>
                    <td>--help</td>
                    <td>Display the usage help.</td>
                </tr>
                <tr>
                    <td>--cygwin</td>
                    <td>Use the cygwin compiler in preference if a Microsoft Visual Studio compiler is also installed.
                    Currently not supported.</td>
                </tr>
                <tr>
                    <td>--name=NAME</td>
                    <td>Set the full product multi-word product name (BLD_NAME define).</td>
                </tr>
                <tr>
                    <td>--product=NAME</td>
                    <td>Set the one word (no spaces) name of the product (BLD_PRODUCT).</td>
                </tr>
                <tr>
                    <td>--quiet, -q, --silent</td>
                    <td>Run quietly.</td>
                </tr>
                <tr>
                    <td>--setVersion</td>
                    <td>Set the version number of the product.</td>
                </tr>
                <tr>
                    <td>--type=BUILD</td>
                    <td>Set the build type (DEBUG | RELEASE)</td>
                </tr>
            </table>
            <h3>Feature Options</h3>
            <table summary="">
                <thead>
                    <tr>
                        <td width="28%">Option</td>
                        <td>Default</td>
                        <td width="61%">Description</td>
                    </tr>
                </thead>
                <tr>
                    <td>--disable-FEATURE</td>
                    <td></td>
                    <td>Do not include the FEATURE. This is the general form to enable the features described
                    below.</td>
                </tr>
                <tr>
                    <td>--enable-FEATURE</td>
                    <td></td>
                    <td>Include the FEATURE. This is the general form to enable the features described below.</td>
                </tr>
                <tr>
                    <td>--disable-all</td>
                    <td></td>
                    <td>Exclude all possible features for this platform. Follow this with specific enable-FEATURE
                    options.</td>
                </tr>
                <tr>
                    <td>--enable-all</td>
                    <td></td>
                    <td>Include all possible features for this platform. Follow this with specific disable-FEATURE
                    options.</td>
                </tr>
                <tr>
                    <td>--enable-assert</td>
                    <td>Disabled</td>
                    <td>Build with debug assert checking on.</td>
                </tr>
                <tr>
                    <td>--enable-doc</td>
                    <td>Enabled</td>
                    <td>Build the documentation.</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--enable-floating-point</td>
                    <td>Enabled</td>
                    <td>Build with floating point support.</td>
                </tr>
                <tr>
                    <td>--enable-log</td>
                    <td>Enabled</td>
                    <td>Build with the MPR trace log facility. Use the "--log" switch to enable at run-time.</td>
                </tr>
                <tr>
                    <td>--enable-mmu</td>
                    <td>Enabled</td>
                    <td>Build for systems with virtual memory</td>
                </tr>
                <tr>
                    <td nowrap="nowrap">--enable-multi-thread</td>
                    <td>Enabled</td>
                    <td>Build multi-threaded. Use --disable-multi-thread to build single-threaded.</td>
                </tr>
                <tr>
                    <td>--enable-rom-fs</td>
                    <td>Disabled</td>
                    <td>Build with the ability to load web pages from a compiled web page store in ROM.</td>
                </tr>
                <tr>
                    <td>--enable-test</td>
                    <td>Enabled</td>
                    <td>Build all unit tests</td>
                </tr>
                <tr>
                    <td>--shared</td>
                    <td>Enabled</td>
                    <td>Build a shared library and program using shared libraries. Use either --shared or --static but
                    not both.</td>
                </tr>
                <tr>
                    <td>--static</td>
                    <td>Disable</td>
                    <td>Build a static library and program. Use either --shared or --static but not both.</td>
                </tr>
                <tr>
                    <td>--tune=MODE</td>
                    <td>size</td>
                    <td>Tune the build to optimize for "size", "speed". You can also select "balanced" for a balance
                    between speed and size.</td>
                </tr>
            </table>
            <h3>Optional Packages</h3>
            <table summary="">
                <thead>
                    <tr>
                        <td>Option</td>
                        <td>Default</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tr>
                    <td nowrap="nowrap">--with-COMPONENT=dir</td>
                    <td></td>
                    <td>Specify if a COMPONENT should be included in the build.</td>
                </tr>
                <tr>
                    <td>--without-COMPONENT</td>
                    <td></td>
                    <td>Do not include the COMPONENT in the build.</td>
                </tr>
            </table>
            <h3>Environment Variables</h3>
            <p>These environment variables can be passed into <b>configure</b> to alter its behavior. These are most
            typically used when cross compiling.</p>
            <table summary="">
                <thead>
                    <tr>
                        <td>Variable</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tr>
                    <td>ANT</td>
                    <td>Builder for Java programs.</td>
                </tr>
                <tr>
                    <td>AR</td>
                    <td>Path to the archiver program to use to archive libraries for the target system.</td>
                </tr>
                <tr>
                    <td>BREW</td>
                    <td>Brew SDK directory.</td>
                </tr>
                <tr>
                    <td>CC</td>
                    <td>Path to the C/C++ compiler to use to compile for the target system.</td>
                </tr>
                <tr>
                    <td>CFLAGS</td>
                    <td>Compiler flags</td>
                </tr>
                <tr>
                    <td>BUILD_AR</td>
                    <td>Path to the archiver program to use for building bootstrap tools on the local system.</td>
                </tr>
                <tr>
                    <td>BUILD_CC</td>
                    <td>Path to the C/C++ compiler to use for building bootstrap tools on the local system.</td>
                </tr>
                <tr>
                    <td>
                        <p>BUILD_LD</p>
                    </td>
                    <td>Linker to use for native / local linking on the build system.</td>
                </tr>
                <tr>
                    <td>BUILD_MAKE</td>
                    <td>Path to the make program to use for building bootstrap tools on the local system.</td>
                </tr>
                <tr>
                    <td>BUILD_MT</td>
                    <td>Windows manifest command.</td>
                </tr>
                <tr>
                    <td>DOXYGEN</td>
                    <td>Doxygen documentation generation tool.</td>
                </tr>
                <tr>
                    <td>IFLAGS</td>
                    <td>Preprocessor and include flags. E.g. -Idir to specify a non-standard directory for include
                    headers.</td>
                </tr>
                <tr>
                    <td>JAVAC</td>
                    <td>Java SDK directory.</td>
                </tr>
                <tr>
                    <td>JDK</td>
                    <td>Java SDK directory.</td>
                </tr>
                <tr>
                    <td>JAR</td>
                    <td>Java archive tool.</td>
                </tr>
                <tr>
                    <td>LD</td>
                    <td>Path to the linker program to link objects for the target system.</td>
                </tr>
                <tr>
                    <td>LDFLAGS</td>
                    <td>Linker flags. E.g. -Ldir to specify a non-standard directory for libraries.</td>
                </tr>
                <tr>
                    <td>MAKE</td>
                    <td>The make program tool</td>
                </tr>
                <tr>
                    <td>MT</td>
                    <td>The windows manifest tool.</td>
                </tr>
                <tr>
                    <td>RANLIB</td>
                    <td>Path to the ranlib program to use if required.</td>
                </tr>
            </table>
            <h3>Example Use</h3>
            <pre>
configure --type=DEBUG --enable-multi-thread --shared --with-openssl=/usr/src/openssl
</pre><a name="variables" id="variables"></a>
            <h2 class="section">Configuration Variables</h2>
            <p>The configure program will define the following variables (among others) in the relevant "buildConfig.*"
            configuration files.</p>
            <table summary="" width="100%">
                <thead>
                    <tr>
                        <td>Variable</td>
                        <td>Typical Value</td>
                        <td>Description</td>
                    </tr>
                </thead>
                <tr>
                    <td>BLD_BIN_PREFIX</td>
                    <td nowrap="nowrap">/usr/bin</td>
                    <td>Default location for any product binaries.</td>
                </tr>
                <tr>
                    <td>BLD_BUILD_CPU_ARCH</td>
                    <td>MPR_CPU_IX86</td>
                    <td>Build system CPU architecture. Possible values defined in include/mprOs.h.</td>
                </tr>
                <tr>
                    <td>BLD_BUILD_CPU</td>
                    <td>6586</td>
                    <td>Build system CPU. Possible values defined in tools/config.sub. Used in the --build switch</td>
                </tr>
                <tr>
                    <td>BLD_BUILD_OS</td>
                    <td>WIN</td>
                    <td>Build system operating system. Used in cross-development.</td>
                </tr>
                <tr>
                    <td>BLD_BUILD_CC</td>
                    <td>cc (cl on windows)</td>
                    <td>C compiler to use when building bootstrap tools that are used in the build process.</td>
                </tr>
                <tr>
                    <td>BLD_COMPANY</td>
                    <td>"Embedthis"</td>
                    <td>Name of the company distributing the product. You may change this.</td>
                </tr>
                <tr>
                    <td>BLD_DEBUG</td>
                    <td>1</td>
                    <td>Set to 1 if BLD_TYPE is set to DEBUG.</td>
                </tr>
                <tr>
                    <td>BLD_DOC_PREFIX</td>
                    <td>/usr/share/ejs-1.1.2</td>
                    <td>Default product documentation and samples installation prefix.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_AR</td>
                    <td>ar (lib on windows)</td>
                    <td>Archiver / library program for target host.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_CFLAGS</td>
                    <td>""</td>
                    <td>The value of the CFLAGS environment variable when <b>configure</b> was run. Used for compiling
                    programs for the target host.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_CC</td>
                    <td>cc (cl on windows)</td>
                    <td>C compiler for compiling programs for the target host.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_CPU_ARCH</td>
                    <td>MPR_CPU_IX86</td>
                    <td>Target host CPU architecture. Possible values defined in include/mprOs.h.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_CPU</td>
                    <td>i586</td>
                    <td>Target host CPU. Possible values defined in tools/config.sub. Used in the --host switch.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_OS</td>
                    <td>LINUX</td>
                    <td>Target operating system.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_UNIX</td>
                    <td>1</td>
                    <td>Set to TRUE if the target O/S is UNIX-like.</td>
                </tr>
                <tr>
                    <td>BLD_INC_PREFIX</td>
                    <td>/usr/include/ejs</td>
                    <td>Default product header location.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_IFLAGS</td>
                    <td>""</td>
                    <td>The value of the IFLAGS environment variable when <b>configure</b> was run.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_LD</td>
                    <td nowrap="nowrap">ld (link on windows)</td>
                    <td>Linker program.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_LDFLAGS</td>
                    <td>""</td>
                    <td>The value of the LDFLAGS environment variable when <b>configure</b> was run.</td>
                </tr>
                <tr>
                    <td>BLD_LIB_PREFIX</td>
                    <td>/usr/lib</td>
                    <td>Default product shared library location.</td>
                </tr>
                <tr>
                    <td>BLD_NAME</td>
                    <td nowrap="nowrap">"Embedthis PRODUCT_NAME"</td>
                    <td>Multiword name of the product.</td>
                </tr>
                <tr>
                    <td>BLD_NUMBER</td>
                    <td>1</td>
                    <td>Build version number. This is the fourth digit of a version number.</td>
                </tr>
                <tr>
                    <td>BLD_PREFIX</td>
                    <td>/usr/lib/ejs</td>
                    <td>Default installation directory prefix.</td>
                </tr>
                <tr>
                    <td>BLD_PRODUCT</td>
                    <td>ejs</td>
                    <td>One word name of the product.</td>
                </tr>
                <tr>
                    <td>BLD_HOST_RANLIB</td>
                    <td>ranlib</td>
                    <td>Program to rebuild library symbol tables for the target host.</td>
                </tr>
                <tr>
                    <td>BLD_SRC_PREFIX</td>
                    <td>/usr/src/ejs-1.1.2</td>
                    <td>Default product documentation and samples installation prefix.</td>
                </tr>
                <tr>
                    <td>BLD_TYPE</td>
                    <td>DEBUG</td>
                    <td>Build type. Set to RELEASE or DEBUG.</td>
                </tr>
                <tr>
                    <td>BLD_VERSION</td>
                    <td>1.1.2</td>
                    <td>Version number of the format Major.Minor.Patch</td>
                </tr>
                <tr>
                    <td>BLD_FEATURE_NAME</td>
                    <td>0 or 1</td>
                    <td>Enable or disable the feature by NAME.</td>
                </tr>
                <tr>
                    <td>BLD_FEATURE_NAME</td>
                    <td>0 or 1</td>
                    <td>Enable the building of the module by NAME.</td>
                </tr>
            </table>
        </div>
    </div>
<!-- BeginDsi "dsi/bottom.html" -->
	<div class="bottom">
		<p class="footnote"> 
            <a href="../../../product/copyright.html" >&copy; Embedthis Software LLC, 2003-2009. 
            All rights reserved. Embedthis, Ejscript and Appweb are trademarks of Embedthis Software LLC.</a>
		</p>
	</div>
<!-- EndDsi -->
</body>
</html>
