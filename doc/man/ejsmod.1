.TH EJSMOD "1" "March 2009" "ejsmod" "User Commands"
.SH NAME
ejsmod \- Ejscript Module Generator
.SH SYNOPSIS
.B ejsmod
[\fI--cslots\fR] 
[\fI--empty\fR]
[\fI--html path\fR] 
[\fI--listing\fR]
[\fI--searchPath ejsPath\fR]
[\fI--showBuiltin\fR]
[\fI--showDebug\fR]
[\fI--version\fR]
modules ...
.SH DESCRIPTION
The \fBejsmod\fR command is a utility program for Ejscript module files to generate symbolic assembler listings, 
slot defintion files for native classes and HTML documentation.
.SH LISTINGS
.PP
To generate symbolic assembler listings, compile your source using the \fBejsc\fR command with the --debug switch. Then
invoke \fBejsmod\fR with the \fB--listing\fR switch and supply the required modules. An assembler listing 
file with a ".lst" extension will be generated for each corresponding logical module directive. 
.PP
The listing files interleave disassembled byte code with the relevant source
code statements. The listings describe each module and its constituent functions and initializers. The 
bindings for all types and the constant pool are also listed.
.SH DOCUMENTATION
To generate HTML documentation for your code, first compile using the \fBejsc\fR command with the --doc switch. Then
invoke \fBejsmod\fR and use the \fB--html\fR switch with the directory where you want the documentation generated.
.PP
The HTML documentation will include all modules, namespaces, types, functions, properties and variable declarations.
.SH BINDING SLOT FILES
Ejscript supports the creation of native types which are coded in the C language. Native types are useful for 
core system types and for classes that must run at near binary speed. To facilitate creating native types, \fBejsmod\fR
generates slot binding definition headers which define symbolic offsets for declarations. See the Native class
samples for further information.
.SH OPTIONS
.TP
\fB\--cslots\fR
Generate slot binding definition headers for the input modules. 
.TP
\fB\--empty\fR
Start with an empty interpreter without the core language types such as Object, Array and Number. This option is 
used to build the foundation ejs.mod module which contains the core system types.
.TP
\fB\--html dir\fR
Generate HTML documentation to the specified directory. The source files must have been compiled by \fBejsc\fR 
with the --doc switch to include the documentation strings in the module files.
.TP
\fB\--listing\fR
Generate symbolic assembler files for each input module.
.TP
\fB\--searchPath ejsPath\fR
Override the module search path. The module search path is a set of directories that the \fBejsmod\fR command will use
when locating and loading Ejscript modules. Given a module named "a.b.c" in a script, \fBejsmod\fR will use the following 
search strategy to locate the module:
.IP
1. Search for a module file named "a.b.c.mod"
.IP
2. Search for a module file named "a/b/c.mod"
.IP
3. Search for a module file named "a.b.c.mod" in EJSPATH
.IP
4. Search for a module file named c.mod in EJSPATH
.IP
The search path is initially specified via the environment variable EJSPATH and may be overridden via the --searchPath ejsPath
switch. EJSPATH and the ejsPath command line value are similar to the system PATH formats. On windows, path segments 
are separated by ";" and on Linux, Unix, FreeBSD and MAC, the path segments are separated by ":" delimiters.
.TP
\fB\--showDebug\fR
Show debug instructions in the symbolic assembler listings.
.TP
\fB\--showBuiltin\fR
Show built-in properties in HTML documentation, assembler listings and slot binding files.
.TP
\fB\--version\fR
Print the \fBejsmod\fR command version and exit.
.SH BACKGROUND
Ejscript is an enhanced implementation of the JavaScript language for use in embedded applications such as web 
servers, embedded devices and mobile phones. It is especially well suited for Server-Side JavaScript web applications.
.PP
Ejscript is a dynamic, interpreted, object-oriented scripting language that supports classes, objects, exceptions, 
statements, expressions and a powerful suite of data types.
.SH "REPORTING BUGS"
Report bugs to dev@embedthis.com.
.SH COPYRIGHT
Copyright \(co 2004-2009 Embedthis Software.  Ejscript is a trademark of Embedthis Software.
.br
.SH "SEE ALSO"
ejsc, ejsgen, ejs, ejsvm
